sudo: required
language: cpp
dist: trusty

notifications:
  email: false

services:
  docker

compiler: 
  - gcc-6
  - gcc-53
  - clang-3.8
  - clang-3.5

env: 
  - CMAKE_BUILD_TYPE=Release
  - CMAKE_BUILD_TYPE=Debug

matrix: 
  fast_finish: true
  include: 
  - compiler: gcc-6
    env: CMAKE_BUILD_TYPE=Debug
    env: WITH_COVERAGE=ON

before_install:
  #- echo "PR $TRAVIS_PULL_REQUEST"
  #- if [ $TRAVIS_PULL_REQUEST == "false" ]; then echo HEAD~ HEAD refs/heads/$TRAVIS_BRANCH | ./.trigger_appveyor.rb; fi
  - docker pull bartekt/can_dev_base_image

script:
  - ./.travis.sh
