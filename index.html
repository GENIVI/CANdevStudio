<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CANdevStudio: CANdevStudio</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CANdevStudio
   </div>
   <div id="projectbrief">Development tool for CAN bus simulation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">CANdevStudio </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__r_e_a_d_m_e"></a><a href="https://github.com/GENIVI/CANdevStudio/actions/workflows/build.yml?query=branch%3Amaster++"><img src="https://github.com/GENIVI/CANdevStudio/actions/workflows/build.yml/badge.svg?branch=master" alt="CANdevStudio" style="pointer-events: none;" class="inline"/></a> <a href="https://codecov.io/gh/GENIVI/CANdevStudio"><img src="https://codecov.io/gh/GENIVI/CANdevStudio/branch/master/graph/badge.svg" alt="codecov" style="pointer-events: none;" class="inline"/></a> <a href="https://genivi.github.io/CANdevStudio/"><img src="https://img.shields.io/badge/Doxygen-master-blue.svg" alt="Doxygen" style="pointer-events: none;" class="inline"/></a></p>
<ul>
<li>Overview<ul>
<li>Compatible CAN interfaces</li>
<li>Supported operating systems</li>
</ul>
</li>
<li>Build instructions<ul>
<li>Linux<ul>
<li>To choose compiler</li>
<li>Qt in CMake</li>
</ul>
</li>
<li>Windows<ul>
<li>Visual Studio 2019 Win64</li>
</ul>
</li>
<li>macOS / OS X</li>
</ul>
</li>
<li>Prebuilt packages<ul>
<li>Download</li>
<li>Package naming</li>
<li>Linux</li>
<li>ARCH Linux</li>
<li>Windows</li>
<li>macOS / OS X</li>
</ul>
</li>
<li>Quick Start<ul>
<li>CAN Hardware<ul>
<li>Microchip CAN BUS Analyzer</li>
<li>Lawicel CANUSB</li>
<li>PeakCAN PCAN-USB</li>
<li>PassThruCAN Plugin</li>
</ul>
</li>
<li>CANdevStudio without CAN hardware<ul>
<li>VCAN</li>
<li>Cannelloni</li>
</ul>
</li>
</ul>
</li>
<li>Help<ul>
<li>Scripting</li>
<li>CAN Signals</li>
<li>CanDevice configuration</li>
<li>CanRawFilter</li>
<li>Adding new components</li>
</ul>
</li>
</ul>
<h1>Overview</h1>
<p>Most of automotive projects need to have an access to the Controller Area Network (CAN) bus. There are plenty of commercial frameworks that provides CAN stacks and hardware/software tools necessary to develop proper CAN networks. They are very comprehensive and thus expensive. CANdevStudio aims to be cost-effective replacement for CAN simulation software. It can work with variety of CAN hardware interfaces (e.g. Microchip, Vector, PEAK-Systems) or even without it (vcan and <a href="https://github.com/mguentner/cannelloni">cannelloni</a>) . CANdevStudio enables to simulate CAN signals such as ignition status, doors status or reverse gear by every automotive developer. Thanks to modularity it is easy to implement new, custom features.</p>
<p>Checkout CANdevStudio on <a href="https://www.youtube.com/watch?v=1TfAyg6DG04">YouTube</a></p>
<p align="center"></p>
<p><img src="https://at.projects.genivi.org/wiki/download/attachments/14976114/CDS_V1.png" alt="" width="65%" class="inline"/> </p>
<h2>Compatible CAN interfaces</h2>
<p>Access to CAN bus is based on Qt framework. Current list of supported CAN interfaces can be found <a href="https://doc.qt.io/qt-5/qtcanbus-backends.html">here</a>.</p>
<p>Current list of devices compatible with SocketCAN (Linux only) can be found <a href="http://elinux.org/CAN_Bus">here</a>. </p><h2>Supported operating systems</h2>
<ul>
<li>Linux</li>
<li>Windows</li>
<li>macOS</li>
</ul>
<h1>Build instructions</h1>
<p>CANdevStudio project uses GitHub Actions as continuous integration environment. You can check <a href="https://github.com/GENIVI/CANdevStudio/blob/master/.github/workflows/build.yml">build.yml</a> for details.</p>
<p>To lower maintenance effort and allow for usage of modern C++ features, since v1.2.0 CANdevStudio dropped "official" support for legacy compilers like gcc5.3, vs2015 or MinGW. Current CI configuration uses the latest compilers available for each GitHub Actions environment:</p><ul>
<li>ubuntu-latest (clang and gcc)</li>
<li>macos-latest (clang)</li>
<li>windows-latest (vs2019 x64)</li>
</ul>
<h2>Linux</h2>
<h3>Dependencies (Ubuntu / Debian)</h3>
<div class="fragment"><div class="line">sudo apt install qtbase5-dev libqt5serialbus5-dev libqt5svg5-dev qtdeclarative5-dev</div>
</div><!-- fragment --> <h3>Build steps</h3>
<div class="fragment"><div class="line">git clone https://github.com/GENIVI/CANdevStudio.git</div>
<div class="line">cd CANdevStudio</div>
<div class="line">git submodule update --init --recursive</div>
<div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake ..</div>
<div class="line">make</div>
</div><!-- fragment --> <h3>To choose compiler</h3>
<div class="fragment"><div class="line">cd CANdevStudio/build</div>
<div class="line">rm -rf *</div>
<div class="line">export CC=clang</div>
<div class="line">export CXX=clang++</div>
<div class="line">cmake ..</div>
<div class="line">make</div>
</div><!-- fragment --> <h3>Qt in CMake</h3>
<p>If CMake failed to find Qt in your system: </p><div class="fragment"><div class="line">cd CANdevStudio/build</div>
<div class="line">rm -rf *</div>
<div class="line">cmake .. -DCMAKE_PREFIX_PATH=/home/genivi/Qt5.12.0/5.12.0/gcc_64</div>
<div class="line">make</div>
</div><!-- fragment --> <h2>Windows</h2>
<h3>Visual Studio 2019 Win64</h3>
<div class="fragment"><div class="line">git clone https://github.com/GENIVI/CANdevStudio.git</div>
<div class="line">cd CANdevStudio</div>
<div class="line">git submodule update --init --recursive</div>
<div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake .. -DCMAKE_BUILD_TYPE=Release -G &quot;Visual Studio 16 2019&quot; -A x64</div>
<div class="line">cmake --build .</div>
</div><!-- fragment --> <h2>macOS / OS X</h2>
<h3>Dependencies</h3>
<div class="fragment"><div class="line">brew install qt5 cmake ninja</div>
</div><!-- fragment --> <h3>Build steps</h3>
<div class="fragment"><div class="line">git clone https://github.com/GENIVI/CANdevStudio.git</div>
<div class="line">cd CANdevStudio</div>
<div class="line">git submodule update --init --recursive</div>
<div class="line">cmake -S. -Bbuild -GNinja -DCMAKE_PREFIX_PATH=$(brew --prefix qt5)/lib/cmake</div>
<div class="line">cd build</div>
<div class="line">ninja</div>
</div><!-- fragment --> <h1>Prebuilt packages</h1>
<p>Each GitHub Actions job stores prebuilt packages for 90 days. Additionally official releases are stored on GitHub Releases page. </p><h2>Package naming</h2>
<p><em><b>CANdevStudio-X.Y.ZZZZZZZ-SYS[-standalone]</b></em></p>
<p><b>X</b> - major version number of previous stable version<br  />
 <b>Y</b> - minor version of previous stable version<br  />
 <b>Z</b> - SHA commit ID<br  />
 <b>SYS</b> - either <b>win64</b>, <b>Linux</b> or <b>Darwin</b><br  />
 <b>standalone</b> - bundle version that contains Qt libraries and all relevant plugins.<br  />
 </p><h2>Linux</h2>
<p>All packages are being built on ubuntu-latest environment. Refer to <a href="https://github.com/actions/virtual-environments">this</a> page to determine the exact Ubuntu version. You may experience problems with missing or incompatible libraries when trying to run the package on other distros.</p>
<p>To run standalone version use CANdevStudio.sh script. </p><h2>ARCH Linux</h2>
<p>Install AUR package: <a href="https://aur.archlinux.org/packages/candevstudio-git/">candevstudio-git</a></p>
<h2>Windows</h2>
<p>Packages built with Visual Studio 2019.</p>
<p>Standalone version contains Qt. Installation of VS2019 redist packages may be still required. </p><h2>macOS / OS X</h2>
<p>Package is a DMG installer. </p><h1>Quick Start</h1>
<p>General instructions to start your first simulation:</p><ol type="1">
<li>Build the latest master or release.</li>
<li>Run the application and start a new project</li>
<li>Drag and drop <a class="el" href="class_can_device.html" title="The class provides abstraction layer for CAN BUS hardware.">CanDevice</a> and <a class="el" href="class_can_raw_view.html">CanRawView</a> components and connect them accordingly.</li>
<li>Double click on <a class="el" href="class_can_device.html" title="The class provides abstraction layer for CAN BUS hardware.">CanDevice</a> node to open configuration window.<ol type="a">
<li>set one of supported backends (e.g. socketcan) <a href="http://doc.qt.io/qt-5.10/qtcanbus-backends.html">link</a>.<br  />
<b>NOTE:</b> List of supported backends depends on Qt version.</li>
<li>set name of your can interface (e.g. can0)</li>
</ol>
</li>
<li>Start the simulation</li>
<li>Double click on <a class="el" href="class_can_raw_view.html">CanRawView</a> component to see CAN traffic</li>
</ol>
<p>Steps required to use specific CAN hardware or virtual interfaces require some additional steps listed in following sections. </p><h2>CAN Hardware</h2>
<p>The list below shows hardware that has been successfully used with CANdevStudio. </p><h3>Microchip CAN BUS Analyzer</h3>
<ul>
<li>Tested on Linux</li>
<li>Requires socketcan <a href="https://github.com/rkollataj/mcba_usb">driver</a>.</li>
<li>Officially supported in Linux Kernel v4.12+ Configuration:</li>
</ul>
<ol type="1">
<li>Find your interface name (e.g. can0) <br  />
 <div class="fragment"><div class="line">link</div>
</div><!-- fragment --></li>
<li>Configure bitrate<br  />
 <div class="fragment"><div class="line">ip link set can0 type can bitrate 1000000</div>
</div><!-- fragment --></li>
<li>Bring the device up<br  />
 <div class="fragment"><div class="line">ip link set can0 up</div>
</div><!-- fragment --></li>
<li>Optionally configure CAN termination<ol type="a">
<li>In GitHUB based driver <br  />
 <div class="fragment"><div class="line">ip link set can0 type can termination 1</div>
</div><!-- fragment --></li>
<li>In Linux 4.12+ driver<br  />
 <div class="fragment"><div class="line">ip link set can0 type can termination 120</div>
</div><!-- fragment --></li>
</ol>
</li>
</ol>
<p><a class="el" href="class_can_device.html" title="The class provides abstraction layer for CAN BUS hardware.">CanDevice</a> backend: socketcan</p>
<h3>Lawicel CANUSB</h3>
<ul>
<li>Tested on Linux</li>
<li>Based on FTDI Serial driver</li>
<li>Requires slcand to "convert" serial device to SocketCAN.</li>
<li>Officially supported in Linux Kernel v2.6.38</li>
</ul>
<p>Configuration:</p><ol type="1">
<li>Create SocketCAN device from serial interface<br  />
 <div class="fragment"><div class="line">slcand -o -c -s8 -S1000000 /dev/ttyUSB0 can0</div>
</div><!-- fragment --></li>
<li>Bring the device up<br  />
 <div class="fragment"><div class="line">ip link set can0 up</div>
</div><!-- fragment --></li>
</ol>
<p><a class="el" href="class_can_device.html" title="The class provides abstraction layer for CAN BUS hardware.">CanDevice</a> backend: socketcan</p>
<h3>PeakCAN PCAN-USB</h3>
<ul>
<li>Tested on Windows</li>
</ul>
<p><a class="el" href="class_can_device.html" title="The class provides abstraction layer for CAN BUS hardware.">CanDevice</a> settings example: </p><div class="fragment"><div class="line">backend: peakcan</div>
<div class="line">interface: usb0</div>
<div class="line">configuration: BitRateKey = 250000</div>
</div><!-- fragment --> <h3>PassThruCAN Plugin</h3>
<ul>
<li>Tested on Windows</li>
</ul>
<p><a class="el" href="class_can_device.html" title="The class provides abstraction layer for CAN BUS hardware.">CanDevice</a> settings example for PEAK-PCAN: </p><div class="fragment"><div class="line">backend: passthrucan</div>
<div class="line">configuration: BitRateKey = 250000</div>
<div class="line">interface: PCANPT32</div>
</div><!-- fragment --><p> <a class="el" href="class_can_device.html" title="The class provides abstraction layer for CAN BUS hardware.">CanDevice</a> settings example for SIE_CANUSB: </p><div class="fragment"><div class="line">backend: passthrucan</div>
<div class="line">configuration: BitRateKey = 250000</div>
<div class="line">interface: CANUSB</div>
</div><!-- fragment --><p> <a class="el" href="class_can_device.html" title="The class provides abstraction layer for CAN BUS hardware.">CanDevice</a> settings example for Kvaser USBcan: </p><div class="fragment"><div class="line">backend: passthrucan</div>
<div class="line">configuration: BitRateKey = 250000</div>
<div class="line">interface: J2534 (kline) for Kvaser Hardware</div>
</div><!-- fragment --> <h2>CANdevStudio without CAN hardware</h2>
<p>CANdevStudio can be used without actual CAN hardware thanks to Linux's built-in emulation. </p><h3>VCAN</h3>
<p>Configuration: </p><div class="fragment"><div class="line">sudo modprobe vcan</div>
<div class="line">sudo ip link add dev can0 type vcan</div>
<div class="line">sudo ip link set can0 up</div>
</div><!-- fragment --><p> <a class="el" href="class_can_device.html" title="The class provides abstraction layer for CAN BUS hardware.">CanDevice</a> backend: socketcan </p><h3>Cannelloni</h3>
<p>A SocketCAN over Ethernet tunnel. Available for Linux only.</p>
<p align="left">Let's consider setup as before: </p>
<p><img src="https://at.projects.genivi.org/wiki/download/attachments/14976114/CANdevStudio-cannelloni.png" alt="" width="50%" class="inline"/> </p>
<h4>Configuration with qtCannelloniCanBusPlugin</h4>
<p>Target configuration: </p><div class="fragment"><div class="line">sudo modprobe vcan</div>
<div class="line">sudo ip link add dev can0 type vcan</div>
<div class="line">sudo ip link set can0 up</div>
<div class="line">cannelloni -I can0 -R 192.168.0.1 -r 30000 -l 20000</div>
</div><!-- fragment --><p> PC configuration:</p>
<ol type="1">
<li>Install libqtCannelloniCanBusPlugin.so that is built along with CANdevStudio. You can either copy it manually to Qt plugins directory (e.g. /usr/lib/qt/plugins/canbus) or use "make install" to do it automatically.</li>
<li>Create new project in CANdevStudio and add <a class="el" href="class_can_device.html" title="The class provides abstraction layer for CAN BUS hardware.">CanDevice</a> node</li>
<li>Configure <a class="el" href="class_can_device.html" title="The class provides abstraction layer for CAN BUS hardware.">CanDevice</a>:<ol type="a">
<li>backend: cannelloni</li>
<li>interface: 30000,192.168.0.2,20000 (local_port,remote_ip,remote_port)</li>
</ol>
</li>
<li>Start simulation</li>
</ol>
<h4>Configuration without qtCannelloniCanBusPlugin</h4>
<p>Target configuration: </p><div class="fragment"><div class="line">sudo modprobe vcan</div>
<div class="line">sudo ip link add dev can0 type vcan</div>
<div class="line">sudo ip link set can0 up</div>
<div class="line">cannelloni -I can0 -R 192.168.0.1 -r 30000 -l 20000</div>
</div><!-- fragment --><p> PC configuration:</p><ol type="1">
<li>Execute following lines in a shell <div class="fragment"><div class="line">sudo modprobe vcan</div>
<div class="line">sudo ip link add dev can0 type vcan</div>
<div class="line">sudo ip link set can0 up</div>
<div class="line">cannelloni -I can0 -R 192.168.0.2 -r 20000 -l 30000</div>
</div><!-- fragment --></li>
<li>Create new project in CANdevStudio and add <a class="el" href="class_can_device.html" title="The class provides abstraction layer for CAN BUS hardware.">CanDevice</a> node</li>
<li>Configure <a class="el" href="class_can_device.html" title="The class provides abstraction layer for CAN BUS hardware.">CanDevice</a>:<ol type="a">
<li>backend: socketcan</li>
<li>interface: can0</li>
</ol>
</li>
<li>Start simulation</li>
</ol>
<h1>Help</h1>
<h2>Scripting</h2>
<p>As of v1.1 CANdevStudio supports creation of <a href="https://doc.qt.io/qt-5/qmlapplications.html">QML</a> based scripts. Scripts can be developed and loaded dynamically without a need to restart the main applications. Scripting adds a lot of different possibilities to CANdevStudio that includes:</p><ul>
<li>Creation of custom GUIs</li>
<li>Raw frames and signals handling</li>
<li>Time triggered actions</li>
<li>Message triggered actions</li>
<li>... and many more, as all QML functionalities are supported.</li>
</ul>
<p>Try it yourself by loading one of the <a href="https://github.com/GENIVI/CANdevStudio/tree/master/src/components/qmlexecutor/examples">examples</a> into <a class="el" href="class_q_m_l_executor.html">QMLExecutor</a> component. You are welcome to share your scripts via Pull Requests!</p>
<h2>CAN Signals</h2>
<p>CANdevStudio provides support for CAN signals handling. <a href="http://socialledge.com/sjsu/index.php/DBC_Format">DBC</a> database description format is supported. Reverse engineered DBC files can be found in <a href="https://github.com/commaai/opendbc">opendbc</a> project.</p>
<p>Support for others CAN database formats can be added via extension of <a href="https://www.github.com/GENIVI/CANdb">CANdb</a>.</p>
<h3>Sending signals</h3>
<ol type="1">
<li>Start new project and setup <a class="el" href="class_can_device.html" title="The class provides abstraction layer for CAN BUS hardware.">CanDevice</a> as described in quick start section</li>
<li><b>Add <a class="el" href="class_can_signal_data.html">CanSignalData</a></b> component that serves as CAN signals database for other components. You may have multiple <a class="el" href="class_can_signal_data.html">CanSignalData</a> components per projecthttps://github.com/commaai/opendbc</li>
<li>Open <a class="el" href="class_can_signal_data.html">CanSignalData</a> properties and configure path to DBC file</li>
<li>List of messages and signals shall be now loaded and visible in <a class="el" href="class_can_signal_data.html">CanSignalData</a> window</li>
<li>You may configure cycle and initial value per each message</li>
<li><b>Add <a class="el" href="class_can_signal_encoder.html">CanSignalEncoder</a></b> component and connect it with <a class="el" href="class_can_device.html" title="The class provides abstraction layer for CAN BUS hardware.">CanDevice</a>. <a class="el" href="class_can_signal_encoder.html">CanSignalEncoder</a> act as a translator between signals and CAN frames. It is also responsible for sending cyclical messages.</li>
<li><a class="el" href="class_can_signal_sender.html">CanSignalSender</a> has been automatically configured to use previously added CAN database. CAN database can be manually selected in component properties (this applies to all components from "Signals" group)</li>
<li><b>Add <a class="el" href="class_can_signal_sender.html">CanSignalSender</a></b> component and connect it with <a class="el" href="class_can_signal_encoder.html">CanSignalEncoder</a></li>
<li>Add signals in <a class="el" href="class_can_signal_sender.html">CanSignalSender</a> window</li>
<li>Start simulation</li>
<li><a class="el" href="class_can_signal_encoder.html">CanSignalEncoder</a> will start sending cyclical messages</li>
<li>You can send previously configured signals from <a class="el" href="class_can_signal_sender.html">CanSignalSender</a>:<ul>
<li>if signal is a part of periodic message its value will be updated in a next cycle</li>
<li>if signal is not a part of periodic message it will be sent out immediately</li>
</ul>
</li>
</ol>
<h3>Receiving signals</h3>
<ol type="1">
<li>Start new project and setup <a class="el" href="class_can_device.html" title="The class provides abstraction layer for CAN BUS hardware.">CanDevice</a> as described in quick start section</li>
<li><b>Add <a class="el" href="class_can_signal_data.html">CanSignalData</a></b> component that serves as CAN signals database for other components. You may have multiple <a class="el" href="class_can_signal_data.html">CanSignalData</a> components per project</li>
<li>Open <a class="el" href="class_can_signal_data.html">CanSignalData</a> properties and configure path to DBC file</li>
<li>List of messages and signals shall be now loaded and visible in <a class="el" href="class_can_signal_data.html">CanSignalData</a> window</li>
<li><b>Add <a class="el" href="class_can_signal_decoder.html">CanSignalDecoder</a></b> component and connect it with <a class="el" href="class_can_device.html" title="The class provides abstraction layer for CAN BUS hardware.">CanDevice</a>. <a class="el" href="class_can_signal_decoder.html">CanSignalDecoder</a> act as a translator between signals and CAN frames.</li>
<li><a class="el" href="class_can_signal_decoder.html">CanSignalDecoder</a> has been automatically configured to use previously added CAN database. CAN database can be manually selected in component properties (this applies to all components from "Signals" group)</li>
<li><b>Add <a class="el" href="class_can_signal_viewer.html">CanSignalViewer</a></b> component and connect it with <a class="el" href="class_can_signal_decoder.html">CanSignalDecoder</a></li>
<li>Start simulation</li>
<li>Signals shall now appear in <a class="el" href="class_can_signal_viewer.html">CanSignalViewer</a>. Note that <a class="el" href="class_can_signal_decoder.html">CanSignalDecoder</a> is sending over only signals which values has changed.</li>
</ol>
<h2><a class="el" href="class_can_device.html" title="The class provides abstraction layer for CAN BUS hardware.">CanDevice</a> configuration</h2>
<p><a class="el" href="class_can_device.html" title="The class provides abstraction layer for CAN BUS hardware.">CanDevice</a> component can be configured using "configuration" property:</p><ul>
<li>Format - "key1=value1;key2=value2;keyX=valueX"</li>
<li>Keys names are case sensitive, values are case insensitive</li>
<li>Configuration keys are taken from <a href="https://doc.qt.io/qt-5/qcanbusdevice.html#ConfigurationKey-enum">ConfigurationKey enum</a>.</li>
<li>RawFilterKey and ErrorFilterKey are currently not supported</li>
<li>Whitespaces are ignored</li>
</ul>
<p>E.g. </p><div class="fragment"><div class="line">BitRateKey=100000;ReceiveOwnKey=false;LoopbackKey=true</div>
</div><!-- fragment --> <h2><a class="el" href="class_can_raw_filter.html">CanRawFilter</a></h2>
<p><a class="el" href="class_can_raw_filter.html">CanRawFilter</a> component enables to filter (i.e. accept or drop) incoming and outgoing frames:</p><ul>
<li><a href="https://doc.qt.io/qt-5/qregularexpression.html">Qt</a> regular expressions are used to match filter rules.</li>
<li>Rules are matched from top to bottom</li>
<li>Default policy is applied to frames unmatched by any filter</li>
</ul>
<p>Examples:</p><ul>
<li>match 0x222 and 0x333 frames only [id field] <div class="fragment"><div class="line">222|333</div>
</div><!-- fragment --></li>
<li>match 0x200 - 0x300 frames only [id field] <div class="fragment"><div class="line">^[23]..$</div>
</div><!-- fragment --></li>
<li>match empty payload (DLC 0) [payload field] <div class="fragment"><div class="line">^$</div>
</div><!-- fragment --></li>
<li>match 2 byte payload (DLC 2) [payload field] <div class="fragment"><div class="line">^.{4}$</div>
</div><!-- fragment --> <h2>Adding new components</h2>
</li>
</ul>
<ol type="1">
<li>Configure build to include <em>templategen</em> tool <div class="fragment"><div class="line">cd build</div>
<div class="line">cmake .. -DWITH_TOOLS=ON</div>
<div class="line">make</div>
</div><!-- fragment --></li>
<li>Generate component (use -g option if you don't need component to have GUI) <div class="fragment"><div class="line">./tools/templategen/templategen -n MyNewComponent -o ../src/components -g</div>
</div><!-- fragment --></li>
<li>CMake script automatically detects new components. It has to be invoked manually. <div class="fragment"><div class="line">cmake ..</div>
</div><!-- fragment --></li>
<li>Build project <div class="fragment"><div class="line">make</div>
</div><!-- fragment --></li>
<li>Your component is now integrated with CANdevStudio</li>
<li>You may want to modify <em>src/components/mynewcomponent/mynewcomponentplugin.h</em> to configure section name, color and spacing</li>
<li>Define component inputs and outputs in <em>src/components/mynewcomponent/mynewcomponentmodel.cpp</em>. Look for examples in other components.</li>
<li>Modify automatically generated unit tests <em>src/components/mynewcomponent/tests</em> </li>
</ol>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
